<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Recursion &#8212; IanFang Teaching Material Hosting  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css?v=279e0f84" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=fa3f9a06" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="canonical" href="https://uwf-fang.github.io/cpp/recursion.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Module 6 Templates" href="../course/cop3530/m06.html" />
    <link rel="prev" title="Module 5 Recursion" href="../course/cop3530/m05.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../course/cop3530/m06.html" title="Module 6 Templates"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../course/cop3530/m05.html" title="Module 5 Recursion"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">IanFang Teaching Material Hosting  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../course/cop3530/index.html" >COP 3530 Data Structure and Algorithm Design</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../course/cop3530/m05.html" accesskey="U">Module 5 Recursion</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Recursion</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="recursion">
<h1>Recursion<a class="headerlink" href="#recursion" title="Link to this heading">¶</a></h1>
<section id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Link to this heading">¶</a></h2>
<p>Defining a problem or an entity in terms of itself. E.g. An ancestor is either
parents or parents’ ancestor.</p>
</section>
<section id="recursive-algorithm">
<h2>Recursive Algorithm<a class="headerlink" href="#recursive-algorithm" title="Link to this heading">¶</a></h2>
<p>An algorithm that breaks down the problem to smaller pieces and reuses itself
to solve sub-problems.</p>
<p>Many algorithms have both recursive and iterative versions. E.G. binary search</p>
<p>FYI: In functional programming, recursion will replace loop/iteration totally.</p>
<section id="key-components">
<h3>Key components<a class="headerlink" href="#key-components" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Base case - the case that the problem can be solved without reusing itself</p></li>
<li><p>Recursive rule - the rule to reduce the problem toward the base case</p></li>
</ol>
</section>
<section id="function-call-mechanism">
<h3>Function Call Mechanism<a class="headerlink" href="#function-call-mechanism" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Each function call creates a new stack frame in the stack memory.</p></li>
<li><p>The stack frame contains:</p>
<ul>
<li><p>Function arguments.</p></li>
<li><p>Local variables.</p></li>
<li><p>Return address.</p></li>
</ul>
</li>
<li><p>The stack frame is popped out of the stack memory when the function returns.</p></li>
<li><p>Stack overflow: When the stack memory is full. Usually caused by infinite
recursion.</p></li>
</ul>
</section>
<section id="recursive-function-in-c">
<h3>Recursive function in C++<a class="headerlink" href="#recursive-function-in-c" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>A function/method calls itself (directly or indirectly).</p></li>
<li><p>Forward declaration not mandatory except for mutual recursion (A calls B and
B calls A)</p></li>
<li><p>Record keeping (parameters, return values, global/dynamic variable)</p></li>
<li><p>Helper functions (extra parameters for record keeping)</p></li>
<li><p>if statement</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">factorial</span><span class="p">(</span><span class="nb">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="n">base</span> <span class="n">case</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>  <span class="o">//</span> <span class="n">recursive</span> <span class="n">rule</span> <span class="n">that</span> <span class="n">calls</span> <span class="n">itself</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="complexity-analysis">
<h3>Complexity analysis<a class="headerlink" href="#complexity-analysis" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>number of recurve calls <span class="math notranslate nohighlight">\(\times\)</span> total resource in each iteration</p></li>
<li><p>recursion tree to visually assist the analysis</p></li>
</ul>
</section>
</section>
<section id="recursive-data-structure">
<h2>Recursive Data Structure<a class="headerlink" href="#recursive-data-structure" title="Link to this heading">¶</a></h2>
<section id="recursive-data-structure-in-c">
<h3>Recursive Data Structure in C++<a class="headerlink" href="#recursive-data-structure-in-c" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>A class holds instance or pointer/reference to instance of its own type</p></li>
<li><p>E.G. Linked-list</p></li>
<li><p>E.G. Tree, directory structure</p></li>
</ul>
</section>
</section>
<section id="example-recursive-linear-search">
<h2>Example: Recursive Linear Search<a class="headerlink" href="#example-recursive-linear-search" title="Link to this heading">¶</a></h2>
<p>Linear search can be implemented recursively in multiple ways. Here are three
common approaches:</p>
<section id="method-1-using-a-helper-function">
<h3>Method 1: Using a Helper Function<a class="headerlink" href="#method-1-using-a-helper-function" title="Link to this heading">¶</a></h3>
<p>This approach uses a helper function with an additional parameter to track the
current position. The main function provides a clean interface while the helper
function handles the recursion.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Main</span> <span class="n">function</span> <span class="k">with</span> <span class="n">clean</span> <span class="n">interface</span>
<span class="nb">int</span> <span class="n">searchFirst</span><span class="p">(</span><span class="nb">int</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="nb">int</span> <span class="n">size</span><span class="p">,</span> <span class="nb">int</span> <span class="n">toSearch</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">searchFirstHelper</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">toSearch</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">Helper</span> <span class="n">function</span> <span class="n">that</span> <span class="n">does</span> <span class="n">the</span> <span class="n">actual</span> <span class="n">recursive</span> <span class="n">work</span>
<span class="nb">int</span> <span class="n">searchFirstHelper</span><span class="p">(</span><span class="nb">int</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="nb">int</span> <span class="n">size</span><span class="p">,</span> <span class="nb">int</span> <span class="n">toSearch</span><span class="p">,</span> <span class="nb">int</span> <span class="n">start</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">&gt;=</span> <span class="n">size</span><span class="p">)</span>  <span class="o">//</span> <span class="n">base</span> <span class="n">case</span><span class="p">:</span> <span class="n">hit</span> <span class="n">the</span> <span class="n">end</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">==</span> <span class="n">toSearch</span><span class="p">)</span>  <span class="o">//</span> <span class="n">base</span> <span class="n">case</span><span class="p">:</span> <span class="n">found</span> <span class="n">the</span> <span class="n">element</span>
    <span class="k">return</span> <span class="n">start</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">searchFirstHelper</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">toSearch</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>  <span class="o">//</span> <span class="n">recursive</span> <span class="n">rule</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="method-2-using-default-parameters">
<h3>Method 2: Using Default Parameters<a class="headerlink" href="#method-2-using-default-parameters" title="Link to this heading">¶</a></h3>
<p>This approach eliminates the need for a helper function by using a default
parameter. This provides a cleaner solution with a single function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">searchFirst1</span><span class="p">(</span><span class="nb">int</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="nb">int</span> <span class="n">size</span><span class="p">,</span> <span class="nb">int</span> <span class="n">toSearch</span><span class="p">,</span> <span class="nb">int</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">&gt;=</span> <span class="n">size</span><span class="p">)</span>  <span class="o">//</span> <span class="n">base</span> <span class="n">case</span><span class="p">:</span> <span class="n">hit</span> <span class="n">the</span> <span class="n">end</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">==</span> <span class="n">toSearch</span><span class="p">)</span>  <span class="o">//</span> <span class="n">base</span> <span class="n">case</span><span class="p">:</span> <span class="n">found</span> <span class="n">the</span> <span class="n">element</span>
    <span class="k">return</span> <span class="n">start</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">searchFirst1</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">toSearch</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>  <span class="o">//</span> <span class="n">recursive</span> <span class="n">rule</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="method-3-comparing-from-the-end">
<h3>Method 3: Comparing from the End<a class="headerlink" href="#method-3-comparing-from-the-end" title="Link to this heading">¶</a></h3>
<p>This approach compares the tail element in each recursive call and reduces the
array size instead of using an index. This eliminates the need for an extra
parameter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">searchLast</span><span class="p">(</span><span class="nb">int</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="nb">int</span> <span class="n">size</span><span class="p">,</span> <span class="nb">int</span> <span class="n">toSearch</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>  <span class="o">//</span> <span class="n">base</span> <span class="n">case</span><span class="p">:</span> <span class="n">empty</span> <span class="n">array</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">toSearch</span><span class="p">)</span>  <span class="o">//</span> <span class="n">base</span> <span class="n">case</span><span class="p">:</span> <span class="n">found</span> <span class="n">the</span> <span class="n">element</span>
    <span class="k">return</span> <span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="n">searchLast</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">toSearch</span><span class="p">);</span>  <span class="o">//</span> <span class="n">recursive</span> <span class="n">rule</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="key-differences">
<h3>Key Differences<a class="headerlink" href="#key-differences" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>Method 1</strong>: Most structured; separates interface from implementation.</p></li>
<li><p><strong>Method 2</strong>: Most concise; single function with default parameter.</p></li>
<li><p><strong>Method 3</strong>: Searches from the end; reduces size instead of incrementing index.</p></li>
</ul>
<p>All three methods have the same time complexity of <span class="math notranslate nohighlight">\(\Theta(n)\)</span> and space
complexity of <span class="math notranslate nohighlight">\(\Theta(n)\)</span> due to the recursion stack.</p>
</section>
</section>
<section id="pitfall">
<h2>Pitfall<a class="headerlink" href="#pitfall" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>missing base case</p></li>
<li><p>recursive rule does not reduce toward the base case</p></li>
<li><p>skipped base case</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Recursion</a><ul>
<li><a class="reference internal" href="#definition">Definition</a></li>
<li><a class="reference internal" href="#recursive-algorithm">Recursive Algorithm</a><ul>
<li><a class="reference internal" href="#key-components">Key components</a></li>
<li><a class="reference internal" href="#function-call-mechanism">Function Call Mechanism</a></li>
<li><a class="reference internal" href="#recursive-function-in-c">Recursive function in C++</a></li>
<li><a class="reference internal" href="#complexity-analysis">Complexity analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#recursive-data-structure">Recursive Data Structure</a><ul>
<li><a class="reference internal" href="#recursive-data-structure-in-c">Recursive Data Structure in C++</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-recursive-linear-search">Example: Recursive Linear Search</a><ul>
<li><a class="reference internal" href="#method-1-using-a-helper-function">Method 1: Using a Helper Function</a></li>
<li><a class="reference internal" href="#method-2-using-default-parameters">Method 2: Using Default Parameters</a></li>
<li><a class="reference internal" href="#method-3-comparing-from-the-end">Method 3: Comparing from the End</a></li>
<li><a class="reference internal" href="#key-differences">Key Differences</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pitfall">Pitfall</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../course/cop3530/m05.html"
                          title="previous chapter">Module 5 Recursion</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../course/cop3530/m06.html"
                          title="next chapter">Module 6 Templates</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cpp/recursion.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../course/cop3530/m06.html" title="Module 6 Templates"
             >next</a> |</li>
        <li class="right" >
          <a href="../course/cop3530/m05.html" title="Module 5 Recursion"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">IanFang Teaching Material Hosting  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../course/cop3530/index.html" >COP 3530 Data Structure and Algorithm Design</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../course/cop3530/m05.html" >Module 5 Recursion</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Recursion</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright Copyright © Xingang (Ian) Fang 2022-25.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>
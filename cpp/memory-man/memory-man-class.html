
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Memory Management in Classes &#8212; IanFang Course Note Hosting  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="canonical" href="https://uwf-fang.github.io/cpp/memory-man/memory-man-class.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Chapter 10 Input/Output, File Input/Output" href="../../course/cop3014/ch10.html" />
    <link rel="prev" title="Chapter 9 Memory Management in Classes" href="../../course/cop3014/ch09.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../course/cop3014/ch10.html" title="Chapter 10 Input/Output, File Input/Output"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../course/cop3014/ch09.html" title="Chapter 9 Memory Management in Classes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">IanFang Course Note Hosting  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../course/cop3014/index.html" >COP 3014 Algorithm and Program Design</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../course/cop3014/ch09.html" accesskey="U">Chapter 9 Memory Management in Classes</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Memory Management in Classes</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="memory-management-in-classes">
<h1>Memory Management in Classes<a class="headerlink" href="#memory-management-in-classes" title="Permalink to this heading">¶</a></h1>
<p>When a class owns dynamic data (part of the data stored in heap memory region),
special handling is required to avoid memory problems.</p>
<section id="implicitly-declared-methods">
<h2>Implicitly-declared Methods<a class="headerlink" href="#implicitly-declared-methods" title="Permalink to this heading">¶</a></h2>
<p>Some methods can be used without explicit declarations. They are usually
methods that are essential to the object including the default constructor,
destructor, copy constructor, copy assignment operator overloading, etc.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can safely rely on these implicitly-declared methods when all your
instance variables are not dynamic (primitive, class-typed, array, etc.).</p>
</div>
<ul class="simple">
<li><p>Default constructor</p>
<ul>
<li><p>must declare and define explicitly if other constructor is present</p></li>
<li><p>use <code class="docutils literal notranslate"><span class="pre">MyClass::MyClass()=default;</span></code> if you have to define the default
constructor but only the default behavior is desirable</p></li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Implicitly-declared default constructor will not set initial value to
non-class-typed instance variables and the values are undefined.</p>
</div>
<ul class="simple">
<li><p>Destructor</p></li>
<li><p>Copy constructor</p></li>
<li><p>Copy assignment operator overloading</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any implicitly-declared method can only handle non-dynamic instance variables.
They must be explicitly declared and defined when they are triggered in
objects containing dynamic data.</p>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// Operations you can perform without defining any methods</span>
<span class="linenos"> 2</span><span class="c1">// works with classes containing no dynamic data</span>
<span class="linenos"> 3</span><span class="c1">// all instance variables can be duplicated using simple assignment</span>
<span class="linenos"> 4</span><span class="k">class</span><span class="w"> </span><span class="nc">Example</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w">  </span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">grades</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w"> </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">  </span><span class="n">string</span><span class="w"> </span><span class="n">getName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">name</span><span class="p">;}</span><span class="w"></span>
<span class="linenos">10</span><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setName</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;}</span><span class="w"></span>
<span class="linenos">11</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">getAge</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">age</span><span class="p">;}</span><span class="w"></span>
<span class="linenos">12</span><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setAge</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">age</span><span class="p">;}</span><span class="w"></span>
<span class="linenos">13</span><span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">getGrade</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">grades</span><span class="p">[</span><span class="n">index</span><span class="p">];}</span><span class="w"></span>
<span class="linenos">14</span><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setGrade</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">grades</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;}</span><span class="w"></span>
<span class="linenos">15</span><span class="p">};</span><span class="w"></span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">18</span><span class="w">  </span><span class="c1">// allowed without explicit declaration</span>
<span class="linenos">19</span><span class="w">  </span><span class="n">Example</span><span class="w"> </span><span class="n">exp</span><span class="p">;</span><span class="w">  </span><span class="c1">// trigger default constructor</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">setName</span><span class="p">(</span><span class="s">&quot;John&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos">21</span><span class="w">  </span><span class="n">exp</span><span class="p">.</span><span class="n">setAge</span><span class="p">(</span><span class="mi">14</span><span class="p">);</span><span class="w"></span>
<span class="linenos">22</span><span class="w">  </span><span class="n">Example</span><span class="w"> </span><span class="n">exp1</span><span class="p">(</span><span class="n">exp</span><span class="p">);</span><span class="w">  </span><span class="c1">// trigger copy constructor</span>
<span class="linenos">23</span><span class="w">  </span><span class="n">Example</span><span class="w"> </span><span class="n">exp2</span><span class="p">;</span><span class="w"></span>
<span class="linenos">24</span><span class="w">  </span><span class="n">exp2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exp</span><span class="p">;</span><span class="w">  </span><span class="c1">// trigger copy assignment operator overload</span>
<span class="linenos">25</span><span class="w">  </span><span class="c1">// both exp1 and exp2 will have name as &quot;John&quot; and age as 14</span>
<span class="linenos">26</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="dynamic-data-in-class">
<h2>Dynamic data in class<a class="headerlink" href="#dynamic-data-in-class" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>pointer-typed instance variables</p>
<ul class="simple">
<li><p>holding a single value/object or an array</p></li>
<li><p>allocated using <code class="docutils literal notranslate"><span class="pre">new</span></code> and data stored in heap</p></li>
<li><p>simple assignment will cause <strong>shallow copy</strong></p></li>
</ul>
</li>
<li><p>Potential memory problems</p>
<ul class="simple">
<li><p>memory leak - fail to <code class="docutils literal notranslate"><span class="pre">delete</span></code></p>
<ul>
<li><p>bad or no explicit destructor</p></li>
<li><p>dynamic data passed around without correct handling</p></li>
</ul>
</li>
<li><p>shallow copy - fail to copy the dynamic data in the heap memory</p>
<ul>
<li><p>only the memory addresses (values of pointers) are copied by assignment</p></li>
<li><p>implicitly-declared methods will cause <strong>shallow copy</strong></p></li>
<li><p>bad or no explicit copy constructor</p></li>
<li><p>bad or no explicit copy assignment operator overload</p></li>
<li><p><strong>only happens when objects are copied or copy assigned</strong></p></li>
<li><p>will consequently cause the destructor to <code class="docutils literal notranslate"><span class="pre">delete</span></code> a same memory
block in heap multiple times</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Rule of three</p>
<ul>
<li><p>The <strong>big three</strong> methods needed for classes to handle dynamic data
correctly</p></li>
<li><p>destructor</p>
<ul class="simple">
<li><p><strong>mandatory</strong> because it will always be triggered</p></li>
<li><p>when an object is destroyed</p>
<ul>
<li><p>local object going out of scope</p></li>
<li><p>dynamic object being <code class="docutils literal notranslate"><span class="pre">delete</span></code> d</p></li>
</ul>
</li>
<li><p>place to <code class="docutils literal notranslate"><span class="pre">delete</span></code> dynamic data</p></li>
</ul>
</li>
<li><p>copy constructor</p>
<ul>
<li><p><strong>optional</strong> not needed if never triggered</p></li>
<li><p>explicit triggering <code class="docutils literal notranslate"><span class="pre">MyClass</span> <span class="pre">obj1;</span> <span class="pre">MyClass</span> <span class="pre">obj2(obj1);</span></code></p></li>
<li><p>implicit triggering <code class="docutils literal notranslate"><span class="pre">MyClass</span> <span class="pre">obj1;</span> <span class="pre">MyClass</span> <span class="pre">obj2</span> <span class="pre">=</span> <span class="pre">obj1;</span></code></p></li>
<li><p>implicit triggering in parameter passing:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1">// declaration</span>
<span class="linenos">2</span><span class="kt">void</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">MyClass</span><span class="w"> </span><span class="n">myObj</span><span class="p">);</span><span class="w"></span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="c1">// call</span>
<span class="linenos">5</span><span class="n">MyClass</span><span class="w"> </span><span class="n">myObj1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">6</span><span class="n">function</span><span class="p">(</span><span class="n">myObj1</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p><strong>take a const reference parameter to avoid pass-by-value</strong></p></li>
<li><p>perform deep copy here</p></li>
</ul>
</li>
<li><p>copy assignment operator overload</p>
<ul class="simple">
<li><p><strong>optional</strong> not needed if never triggered</p></li>
<li><p>explicit triggering <code class="docutils literal notranslate"><span class="pre">MyClass</span> <span class="pre">obj1;</span> <span class="pre">MyClass</span> <span class="pre">obj2;</span> <span class="pre">obj2</span> <span class="pre">=</span> <span class="pre">obj1;</span></code></p></li>
<li><p>implicit triggering <strong>Easy to miss</strong></p>
<ul>
<li><p>parameter passed by value</p></li>
<li><p>returned value</p></li>
</ul>
</li>
<li><p>must clean up old data</p></li>
<li><p><strong>take a const reference parameter to avoid pass-by-value</strong></p></li>
<li><p>perform deep copy here</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">*this;</span></code> to return a reference of its own class type <code class="docutils literal notranslate"><span class="pre">MyClass</span>
<span class="pre">&amp;</span></code></p></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even in classes with dynamic data, the implementation of the big three is
not always all mandatory. Only the destructor will be always triggered.
Thus, <strong>the copy constructor or the copy assignment operator overloading
implementations can be omitted</strong> if they are never triggered.</p>
</div>
</li>
</ul>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w"> </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 3</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w"> </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">  </span><span class="n">MyClass</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">  </span><span class="n">MyClass</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">  </span><span class="n">MyClass</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">  </span><span class="n">MyClass</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">);</span><span class="w"></span>
<span class="linenos">10</span><span class="w">  </span><span class="o">~</span><span class="n">MyClass</span><span class="p">();</span><span class="w"></span>
<span class="linenos">11</span><span class="p">}</span><span class="w"></span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">14</span><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">15</span><span class="w">  </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span><span class="w"></span>
<span class="linenos">16</span><span class="p">}</span><span class="w"></span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">19</span><span class="w">  </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="w">  </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="n">size</span><span class="p">];</span><span class="w"></span>
<span class="linenos">21</span><span class="p">}</span><span class="w"></span>
<span class="linenos">22</span>
<span class="linenos">23</span><span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">24</span><span class="w">  </span><span class="c1">// you can access private members of other directly in C++!</span>
<span class="linenos">25</span><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">size</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span><span class="w">  </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="n">size</span><span class="p">];</span><span class="w"></span>
<span class="linenos">27</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">28</span><span class="w">    </span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="linenos">29</span><span class="p">}</span><span class="w"></span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="n">MyClass</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">MyClass</span><span class="o">::</span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">32</span><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">size</span><span class="p">;</span><span class="w"></span>
<span class="linenos">33</span><span class="w">  </span><span class="c1">// must release memory of the old dynamic data first!</span>
<span class="linenos">34</span><span class="w">  </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w"></span>
<span class="linenos">35</span><span class="w">  </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="n">size</span><span class="p">];</span><span class="w"></span>
<span class="linenos">36</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">37</span><span class="w">    </span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="linenos">38</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span><span class="w">  </span><span class="c1">// IMPORTANT! return the current object by reference</span>
<span class="linenos">39</span><span class="p">}</span><span class="w"></span>
<span class="linenos">40</span>
<span class="linenos">41</span><span class="o">~</span><span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">42</span><span class="w">  </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w"></span>
<span class="linenos">43</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Rule of five (FYI)</p>
<ul>
<li><p>Two more methods</p>
<ul>
<li><p>Move constructor</p></li>
<li><p>Move assignment operator overloading</p></li>
</ul>
</li>
<li><p>Not mandatory but will improve efficiency</p></li>
<li><p>New syntax since c++ 11 using <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> to refer to a rvalue reference</p></li>
<li><p>Mutable(non-const) parameter to allow modification</p></li>
</ul>
</li>
</ul>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">// the parameter is no longer &#39;const&#39; because you will modify it</span>
<span class="linenos"> 2</span><span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">(</span><span class="n">MyClass</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 3</span><span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">size</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 4</span><span class="w">  </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">arr</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w">  </span><span class="c1">// must make the other object ready for destruction</span>
<span class="linenos"> 6</span><span class="w">  </span><span class="c1">// without this step the destructor may try to delete the moved data</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="n">other</span><span class="p">.</span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">null</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">  </span><span class="n">other</span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// this is not necessary unless your destructor rely on the size</span>
<span class="linenos"> 9</span><span class="p">}</span><span class="w"></span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="c1">// the parameter is no longer &#39;const&#39; because you will modify it</span>
<span class="linenos">12</span><span class="n">MyClass</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">MyClass</span><span class="o">::</span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">MyClass</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">13</span><span class="w">  </span><span class="c1">// Swap both the size and arr with the other object</span>
<span class="linenos">14</span><span class="w">  </span><span class="c1">// the destructor of the other object will destroy the old data</span>
<span class="linenos">15</span><span class="w">  </span><span class="n">swap</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">size</span><span class="p">);</span><span class="w"></span>
<span class="linenos">16</span><span class="w">  </span><span class="n">swap</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">arr</span><span class="p">);</span><span class="w"></span>
<span class="linenos">17</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span><span class="w"></span>
<span class="linenos">18</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="ownership-of-dynamic-data">
<h2>Ownership of Dynamic Data<a class="headerlink" href="#ownership-of-dynamic-data" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is for extended reading. It is beneficial to projects and
self-improving but not essential in exams.</p>
</div>
<p>A dynamic data can be created anywhere and passed around. As the ownership
changed. The last owner should take the responsibility to release the memory.</p>
<p>#. Passing dynamic data created outside as a parameter. The recipient owns the
data after.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">class</span><span class="w"> </span><span class="nc">DataType</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w">  </span><span class="c1">// ...</span>
<span class="linenos"> 3</span><span class="p">};</span><span class="w"></span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w"> </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">  </span><span class="n">DataType</span><span class="w"> </span><span class="o">*</span><span class="n">myDynamicData</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w"> </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">  </span><span class="n">MyClass</span><span class="p">(</span><span class="n">DataType</span><span class="w"> </span><span class="o">*</span><span class="n">initialData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">10</span><span class="w">    </span><span class="n">myDynamicData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">initialData</span><span class="p">;</span><span class="w"></span>
<span class="linenos">11</span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos">12</span><span class="w">  </span><span class="o">~</span><span class="n">MyClass</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">13</span><span class="w">    </span><span class="c1">// delete here although it is not new&#39;ed in the class</span>
<span class="linenos">14</span><span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">myDynamicData</span><span class="p">;</span><span class="w"></span>
<span class="linenos">15</span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos">16</span><span class="p">};</span><span class="w"></span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">19</span><span class="w">  </span><span class="n">DataType</span><span class="w"> </span><span class="o">*</span><span class="n">initData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataType</span><span class="p">();</span><span class="w">  </span><span class="c1">// main function owns it</span>
<span class="linenos">20</span><span class="w">  </span><span class="n">MyClass</span><span class="w"> </span><span class="n">obj1</span><span class="p">(</span><span class="n">initData</span><span class="p">);</span><span class="w">  </span><span class="c1">// obj1 owns it now</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">23</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>#. You may also choose to remove the destructor and let the main function to
delete if you feel it make more sense that the recipients are only users of the
dynamic data and the main function is still the owner. Sometimes the dynamic
data is shared in this case.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">class</span><span class="w"> </span><span class="nc">Configuration</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w">  </span><span class="c1">// ...</span>
<span class="linenos"> 3</span><span class="p">};</span><span class="w"></span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w"> </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">  </span><span class="n">Configuration</span><span class="w"> </span><span class="o">*</span><span class="n">config</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w"> </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">  </span><span class="n">MyClass</span><span class="p">(</span><span class="n">Configuration</span><span class="w"> </span><span class="o">*</span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">10</span><span class="w">    </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">;</span><span class="w"></span>
<span class="linenos">11</span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos">12</span><span class="p">};</span><span class="w"></span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="w">  </span><span class="n">Configuration</span><span class="w"> </span><span class="o">*</span><span class="n">config1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Configuration</span><span class="p">();</span><span class="w">  </span><span class="c1">// main function owns it</span>
<span class="linenos">17</span><span class="w">  </span><span class="n">MyClass</span><span class="w"> </span><span class="n">obj1</span><span class="p">(</span><span class="n">config1</span><span class="p">);</span><span class="w">  </span><span class="c1">// obj1 uses it</span>
<span class="linenos">18</span><span class="w">  </span><span class="n">MyClass</span><span class="w"> </span><span class="n">obj2</span><span class="p">(</span><span class="n">config1</span><span class="p">);</span><span class="w">  </span><span class="c1">// obj2 uses it</span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="w">  </span><span class="k">delete</span><span class="w"> </span><span class="n">config1</span><span class="p">;</span><span class="w"></span>
<span class="linenos">21</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">22</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>The dynamic data can also be passed as a returned value.</p>
<p>Example: The object always owns the data. The recipient just used it.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w"> </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 3</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">array</span><span class="p">;</span><span class="w">  </span><span class="c1">// always owned by the object</span>
<span class="linenos"> 4</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w"> </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">  </span><span class="c1">// ... other methods</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="c1">// array is new&#39;ed in some methods</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="o">~</span><span class="n">MyClass</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">array</span><span class="p">;}</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">getArray</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">array</span><span class="p">;}</span><span class="w">  </span><span class="c1">// expose to outside</span>
<span class="linenos">10</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">getSize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">size</span><span class="p">;}</span><span class="w"></span>
<span class="linenos">11</span><span class="p">};</span><span class="w"></span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">14</span><span class="w">  </span><span class="c1">// declare and initialize data in MyClass obj1;</span>
<span class="linenos">15</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj1</span><span class="p">.</span><span class="n">getSize</span><span class="p">();</span><span class="w"></span>
<span class="linenos">16</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj1</span><span class="p">.</span><span class="n">getArray</span><span class="p">();</span><span class="w"></span>
<span class="linenos">17</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">18</span><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">19</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Example: The ownership is not clear. You can either let the object or the main
function to delete the dynamic data. Both are reasonable.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w"> </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 3</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">array</span><span class="p">;</span><span class="w">  </span><span class="c1">// always owned by the object</span>
<span class="linenos"> 4</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w"> </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">  </span><span class="c1">// ... other methods</span>
<span class="linenos"> 7</span><span class="w">  </span><span class="c1">// array is new&#39;ed in some methods</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">getPositiveValues</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="nf">getPositiveCount</span><span class="p">();</span><span class="w"></span>
<span class="linenos">10</span><span class="p">};</span><span class="w"></span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">MyClass::getPositiveValues</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">13</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">posCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getPositiveCount</span><span class="p">();</span><span class="w"></span>
<span class="linenos">14</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="n">posCount</span><span class="p">];</span><span class="w">  </span><span class="c1">// dynamic data, not meant to be owned</span>
<span class="linenos">15</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">16</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">17</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">18</span><span class="w">      </span><span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="linenos">19</span><span class="w">      </span><span class="n">j</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">20</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">21</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w"></span>
<span class="linenos">22</span><span class="p">}</span><span class="w"></span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="kt">int</span><span class="w"> </span><span class="nf">MyClass::getPositiveCount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">25</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">26</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">27</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos">28</span><span class="w">      </span><span class="n">count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="linenos">29</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"></span>
<span class="linenos">30</span><span class="p">}</span><span class="w"></span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos">33</span><span class="w">  </span><span class="c1">// declare and initialize data in MyClass obj1;</span>
<span class="linenos">34</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">positiveArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj1</span><span class="p">.</span><span class="n">getPositiveValues</span><span class="p">();</span><span class="w"></span>
<span class="linenos">35</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj1</span><span class="p">.</span><span class="n">getPositiveCount</span><span class="p">();</span><span class="w"></span>
<span class="linenos">36</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="linenos">37</span><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">positiveArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">38</span><span class="w">  </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">positiveArray</span><span class="p">;</span><span class="w">  </span><span class="c1">// positiveArray owned by the main function</span>
<span class="linenos">39</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">40</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Memory Management in Classes</a><ul>
<li><a class="reference internal" href="#implicitly-declared-methods">Implicitly-declared Methods</a></li>
<li><a class="reference internal" href="#dynamic-data-in-class">Dynamic data in class</a></li>
<li><a class="reference internal" href="#ownership-of-dynamic-data">Ownership of Dynamic Data</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../../course/cop3014/ch09.html"
                          title="previous chapter">Chapter 9 Memory Management in Classes</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../../course/cop3014/ch10.html"
                          title="next chapter">Chapter 10 Input/Output, File Input/Output</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/cpp/memory-man/memory-man-class.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../course/cop3014/ch10.html" title="Chapter 10 Input/Output, File Input/Output"
             >next</a> |</li>
        <li class="right" >
          <a href="../../course/cop3014/ch09.html" title="Chapter 9 Memory Management in Classes"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">IanFang Course Note Hosting  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../course/cop3014/index.html" >COP 3014 Algorithm and Program Design</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../course/cop3014/ch09.html" >Chapter 9 Memory Management in Classes</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Memory Management in Classes</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Ian Fang.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>